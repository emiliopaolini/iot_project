<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Hydroponic Agriculture</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" media="all" href="../static/style.css" th:href="@{/style.css}" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
		crossorigin="anonymous"></script>

</head>

<body id="pageWrapper" onLoad="setInterval(callUpdatePage, 3000)">

	<div class="position-relative">
		<img src="../static/Vertical_Farming.jpg">
		
		<div
			class="position-absolute top-10 start-50 translate-middle-x shadow-lg p-3 mb-5 bg-body rounded table-responsive">
			<h1>Hydroponic Agriculture</h1>
			<table class="table table-hover table-info">
				<thead>
					<tr>
						<th scope="col">Sensor</th>
						<th scope="col">Value</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="node: ${actuators}" th:nodeIP="${node.nodeIP}">
						<td th:utext="${node.nodeIP}"> </td>
						<td>
							<div class="form-check form-switch">
								<input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<table class="table table-hover table-info">
				<thead>
					<tr>
						<th scope="col">Actuator</th>
						<th scope="col">Status</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="node: ${actuators}" th:nodeIP="${node.nodeIP}">
						<td th:utext="${node.nodeIP}"> </td>
						<td>
							<div class="form-check form-switch">
								<input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
							</div>
						</td>
					</tr>

				</tbody>
			</table>

		</div>


		<div class="position-fixed top-50 start-50 translate-middle-x">
			<button id="buttonChangeStatus" onClick="changeStatus()">Change</button>

			<script type="text/javascript" th:inline="javascript">
				function callUpdatePage() {
					$('#pageWrapper').load("/home");
				}

				$('#buttonChangeStatus').click(function () {
					console.log("button clicked");
					$.ajax({
						type: 'POST',
						url: "/changeStatus"
					});
				});
			</script>
		</div>
	</div>
</body>

</html>